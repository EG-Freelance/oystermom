<%= simple_form_for(@media_file, multipart: true) do |f| %>
  <div class="field">
    <%= f.label :name %><br>
    <%= f.text_field :name %>
  </div>
  <div class="field">
    <%= f.label 'Media-Type' %><br>
    <%= select_tag :media_type, options_for_select(['Image', 'Video']), :id => "media_file_media_type" %>
  </div>
  <div class="field" id="image_field">
    <%= f.label :image %>
    <%= f.file_field :image, :style => "width: 75%" %>
  </div>
  <div class="field" id="video_field">
    <%= f.label :video %>
    <%= f.file_field :video, :style => "width: 75%" %>
  </div>
  <div class="actions">
    <%= f.submit 'Upload', :class => 'btn btn-primary', :style => "width:75px !important", :id => 'media_file_submit' %>
  </div>
<% end %>

<script>
  function mediaSelector(){
    if( $('#media_file_media_type').val() == "Image"){
      $('#image_field').show();
      $('#video_field').hide();
      $('#media_file_video').val(null);
    }else{
      $('#image_field').hide();
      $('#video_field').show();
      $('#media_file_image').val(null);
    }
  }
  
  function submitValidation(){
    if($('#media_file_image').val() == "" && $('#media_file_video').val() == ""){
      $('#media_file_submit').prop('disabled', true);
    }else{
      $('#media_file_submit').prop('disabled', false);
    }
  }
  
  $(document).ready(submitValidation);
  $(document).ready(mediaSelector);
  $('#media_file_media_type').change(mediaSelector);
  $('#media_file_image').change(submitValidation);
  $('#media_file_video').change(submitValidation);
</script>